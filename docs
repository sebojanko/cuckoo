bioinfo docs


Opisati zadani algoritam/problem

Zadatak je bio implementirati Cuckoo filter i testirati njegove performanse
(vrijeme izvođenja, zauzeće memorije) pomoću k-mera različitih duljina.
Te je performanse trebalo usporediti s već postojećom implementacijom filtra.

Cuckoo filter je struktura podataka slična Bloom filtru s razlikom da se iz Cuckoo filtra
elementi mogu brisati.
Iz ove strukture podataka nije moguće izvlačiti elemente već samo provjeriti,
s određenom sigurnošću, sadrži li određeni element.
Filter se sastoji od tablice koja sadrži otiske (fingerprint) elemenata.
Kako bi dobili otisak, potrebno je element provuć kroz hash funkciju te iz rezultata
izvuć određeni broj bitova. Ti se bitovi unose u filter.
Pretpostavimo li da se rezultati hash funkcija ne preklapaju za različite ulazne elemente,
ovisno o količini bitova koje ćemo izolirati za otisak elemenata, postoji mogućnost da se oni
preklapaju. Zbog toga se javljaju lažno pozitivni rezultati.

Kako se iz Cuckoo filtra mogu brisati elementi, ta je struktura podataka mnogo brža za
rad u situacijama kada nam je to važno od Bloom filtra kod kojeg se cijela struktura mora ponovno
sagraditi kada želimo izbaciti neki element.


Za testiranje performansi bilo je potrebno testirati filter s k-merama različitih duljina.
Kako je postojeća implementacija podržavala samo cjelobrojni tip podataka, a k-mere su nizovi
znakova, bilo je potrebno osmisliti enkoder znakova u cjelobrojni tip podataka.
***CIZL OPISI MALO***


Primjer






Zaključak

Ako pogledamo izvorni kod postojeće implementacije filtra, možemo vidjeti vrlo visoku razinu
optimizacije koda pa ne čudi da je naša implementacija za red veličine sporija.
Također, kako enkoder radi samo za kmere veličine 20 i manje, 50-mere, 100-mere i 200-mere
se obrađuju kao stringovi, što je sporije od baratanja s integerima.



Prosječno zauzeće memorije:
	k 		broj k-mera 	tablica 	hash 	vrijeme (sec)
	***MARK***


Brzina unosa:
	k 		broj k-mera 	tablica 	hash 	vrijeme (sec)
	10		48k				single		TIMS	0.0077
	10		48k				single		MD5		0.0391
	10		48k				single		SHA1	0.0376
	10		644k			single		TIMS	0.268
	10		644k			single		MD5		0.684
	10		644k			single		SHA1	0.645
	20		1M				single		TIMS	0.394
	20		1M				single		MD5		1.071
	20		1M				single		SHA1	1.139
	50		1M				single		TIMS	0.589
	50		1M				single		MD5 	0.983
	50		1M				single		SHA1 	0.946
	100		1M				single		TIMS 	0.574
	100		1M				single		MD5 	1.103
	100		1M				single		SHA1 	1.035
	200		1M				single		TIMS 	0.613
	200		1M				single		MD5 	1.244
	200		1M				single		SHA1  	1.199
	10		1M				compact		TIMS	
	10		1M				compact		MD5		
	10		1M				compact		SHA1	
	20		1M				compact		TIMS	
	20		1M				compact		MD5		
	20		1M				compact		SHA1	
	50		1M				compact		TIMS
	50		1M				compact		MD5
	50		1M				compact		SHA1
	100		1M				compact		TIMS
	100		1M				compact		MD5
	100		1M				compact		SHA1
	200		1M				compact		TIMS
	200		1M				compact		MD5
	200		1M				compact		SHA1
	200		50k				compact		TIMS
	200		50k				compact		MD5
	200		50k				compact		SHA1

Brzina provjere uspješnog unosa elemenata:
	k 		broj k-mera 	tablica 	hash 	vrijeme (sec)
	10		48k				single		TIMS	0.0023
	10		48k				single		MD5		0.0153
	10		48k				single		SHA1	0.0200
	10		644k			single		TIMS	0.071
	10		644k			single		MD5		0.263
	10		644k			single		SHA1	0.253
	20 		1M				single	 	TIMS	0.129
	20 		1M				single	 	MD5		0.506
	20		1M				single		SHA1 	0.623
	50		1M				single		TIMS	0.383
	50		1M				single		MD5 	0.378
	50		1M				single		SHA1 	0.373
	100		1M				single		TIMS 	0.384
	100		1M				single		MD5 	0.470
	100		1M				single		SHA1 	0.437
	200		1M				single		TIMS 	0.432
	200		1M				single		MD5 	0.652
	200		1M				single		SHA1 	0.582
	10		1M				compact		TIMS	
	10		1M				compact		MD5		
	10		1M				compact		SHA1	
	20 		1M				compact	 	TIMS	
	20 		1M				compact	 	MD5		
	20		1M				compact		SHA1 	
	50		1M				compact		TIMS
	50		1M				compact		MD5
	50		1M				compact		SHA1
	100		1M				compact		TIMS
	100		1M				compact		MD5
	100		1M				compact		SHA1
	200		1M				compact		TIMS
	200		1M				compact		MD5
	200		1M				compact		SHA1

Postotak lažno pozitivnih elemenata:
	k 		broj 		broj 			tablica 	hash 	false positives (%)
			unesenih	nepostojecih
			k-mera		k-mera
	10		48k			5k 				single		TIMS	0
	10		48k			5k 				single		MD5		0
	10		48k			5k 				single		SHA1	0
	10		644k		397k			single		TIMS	0
	10		644k		397k			single		MD5		0
	10		644k		397k			single		SHA1	0
	20		1M			500k			single		TIMS 	0
	20		1M			500k			single		MD5 	0
	20		1M			500k			single		SHA1 	0
	50		1M			500k			single		TIMS	0.000400117
	50		1M			500k			single		MD5		0
	50		1M			500k			single		SHA1	0	
	100		1M			500k			single		TIMS	0.000200059
	100		1M			500k			single		MD5		0
	100		1M			500k			single		SHA1	0	
	200		1M			500k			single		TIMS	0.000200054
	200		1M			500k			single		MD5		0
	200		1M			500k			single		SHA1	0	
	10		1M			500k			compact		TIMS	
	10		1M			500k			compact		MD5		
	10		1M			500k			compact		SHA1	
	20		1M			500k			compact		TIMS 	
	20		1M			500k			compact		MD5 	
	20		1M			500k			compact		SHA1 	
	50		1M			500k			compact		TIMS	
	50		1M			500k			compact		MD5		
	50		1M			500k			compact		SHA1		
	100		1M			500k			compact		TIMS	
	100		1M			500k			compact		MD5		
	100		1M			500k			compact		SHA1		
	200		1M			500k			compact		TIMS	
	200		1M			500k			compact		MD5		
	200		1M			500k			compact		SHA1		

Brisanje svih elemenata iz tablice:
	k 		broj k-mera 	tablica 	hash 	vrijeme (sec)
	10		48k				single		TIMS	0.0071
	10		48k				single		MD5		0.0176
	10		48k				single		SHA1	0.0223
	10		644k			single		TIMS	0.189
	10		644k			single		MD5		0.323
	10		644k			single		SHA1	0.322
	20		1M				single		TIMS 	0.329
	20		1M				single		MD5 	0.586
	20		1M				single		SHA1 	0.578
	50		1M				single		TIMS	0.504
	50		1M				single		MD5 	0.476
	50		1M				single		SHA1 	0.479
	100		1M				single		TIMS	0.480
	100		1M				single		MD5 	0.556
	100		1M				single		SHA1 	0.536
	200		1M				single		TIMS	0.582
	200		1M				single		MD5 	0.772
	200		1M				single		SHA1 	0.698
	10		1M				compact		TIMS	
	10		1M				compact		MD5		
	10		1M				compact		SHA1	
	20		1M				compact		TIMS 	
	20		1M				compact		MD5 	
	20		1M				compact		SHA1 	
	50		1M				compact		TIMS
	50		1M				compact		MD5
	50		1M				compact		SHA1
	100		1M				compact		TIMS
	100		1M				compact		MD5
	100		1M				compact		SHA1
	200		1M				compact		TIMS
	200		1M				compact		MD5
	200		1M				compact		SHA1



Njihova implementacija

Prosječno zauzeće memorije:

Brzina unosa:
	fingerpint 		k 		broj k-mera 	tablica 	hash 		vrijeme (sec)
	(bitovi)
	8				10		644k			Single 		default 	0.0153
	16				10		644k			Single 		default 	0.0114
	8				20		1M 				Single 		default 	0.0346
	16				20		1M 				Single 		default 	0.0401
	8				10		644k			Single 		TIMS		0.0099
	16				10		644k			Single 		TIMS 		0.0116
	8				20		1M 				Single 		TIMS 		0.0402
	16				20		1M 				Single 		TIMS 		0.0431
	8				10		644k			Single 		SimpleTab 	0.0129
	16				10		644k			Single 		SimpleTab 	0.0183
	8				20		1M 				Single 		SimpleTab 	0.0387
	16				20		1M 				Single 		SimpleTab 	0.0422
	8				10		644k			Packed 		default 	0.0251
	16				10		644k			Packed 		default 	x
	8				20		1M 				Packed 		default 	0.0813
	16				20		1M 				Packed 		default 	x
	8				10		644k			Packed 		TIMS 	 	0.0242	
	16				10		644k			Packed 		TIMS 		x
	8				20		1M 				Packed 		TIMS 		0.0902
	16				20		1M 				Packed 		TIMS 		x
	8				10		644k			Packed 		SimpleTab 	0.0281
	16				10		644k			Packed 		SimpleTab 	x
	8				20		1M 				Packed 		SimpleTab 	0.0948
	16				20		1M 				Packed 		SimpleTab 	x

* retci s 'x' - status CuckooFiltra dojavlja da nijedan element nije unesen

Brzina provjere uspješnog unosa elemenata:
	fingerpint 		k 		broj k-mera 	tablica 	hash 		vrijeme (sec)	pronadeno (%)
	(bitovi)
	8				10		644k			Single 		default 	x 				x
	16				10		644k			Single 		default 	x 				x
	8				20		1M 				Single 		default 	x 				x
	16				20		1M 				Single 		default 	x 				x
	8				10		644k			Single 		TIMS 		x 				x
	16				10		644k			Single 		TIMS 		x 				x
	8				20		1M 				Single 		TIMS 		x 				x
	16				20		1M 				Single 		TIMS 		x 				x
	8				10		644k			Single 		SimpleTab 	x 				x
	16				10		644k			Single 		SimpleTab 	x 				x
	8				20		1M 				Single 		SimpleTab 	x 				x
	16				20		1M 				Single 		SimpleTab 	x 				x
	8				10		644k			Packed 		default 	0.0138 			87.8
	16				10		644k			Packed 		default 	x 				x
	8				20		1M 				Packed 		default 	0.0221 			83.4
	16				20		1M 				Packed 		default 	x 				x
	8				10		644k			Packed 		TIMS 		0.0139			88.6
	16				10		644k			Packed 		TIMS		x 				x
	8				20		1M 				Packed 		TIMS 		0.022			83.4
	16				20		1M 				Packed 		TIMS 		x 				x
	8				10		644k			Packed 		SimpleTab 	0.0177 			88.0
	16				10		644k			Packed 		SimpleTab 	x 				x
	8				20		1M 				Packed 		SimpleTab 	0.0254 			83.3
	16				20		1M 				Packed 		SimpleTab 	x 				x

* retci s 'x' - ili nije pronaden nijedan ili uopce nije niti bio unesen nijedan element

Postotak lažno pozitivnih elemenata:
	fingerpint 		k 		broj k-mera 	tablica 	hash 		FP rate (%)
	(bitovi)
	8				10		500k			Single 		default 	98.6
	16				10		500k			Single 		default 	99.99
	8				20		500k			Single 		default 	97.04
	16				20		500k			Single 		default 	99.99
	8				10		500k			Single 		TIMS 		98.3
	16				10		500k			Single 		TIMS 		99.99
	8				20		500k			Single 		TIMS 		97.03
	16				20		500k			Single 		TIMS 		99.98
	8				10		500k			Single 		SimpleTab 	98.1
	16				10		500k			Single 		SimpleTab 	99.99
	8				20		500k			Single 		SimpleTab 	97.07
	16				20		500k			Single 		SimpleTab 	99.99
	8				10		500k			Packed 		default 	97.6
	16				10		500k			Packed 		default 	x
	8				20		500k			Packed 		default 	96.98
	16				20		500k			Packed 		default 	x
	8				10		500k			Packed 		TIMS 		97.5
	16				10		500k			Packed 		TIMS 		x
	8				20		500k			Packed 		TIMS 		96.96
	16				20		500k			Packed 		TIMS 		x
	8				10		500k			Packed 		SimpleTab 	97.5
	16				10		500k			Packed 		SimpleTab 	x
	8				20		500k			Packed 		SimpleTab 	97.02
	16				20		500k			Packed 		SimpleTab 	x

* retci s 'x' - nijedan element nije bio ubacen u tablicu

Brisanje svih elemenata iz tablice:
	fingerpint 		k 		broj k-mera 	tablica 	hash 		vrijeme (sec)
	(bitovi)
	8				10		644k			Single 		default 	0.0109
	16				10		644k			Single 		default 	0.0099
	8				20		1M 				Single 		default 	0.0219
	16				20		1M 				Single 		default 	0.0198
	8				10		644k			Single 		TIMS 		0.0108
	16				10		644k			Single 		TIMS 		0.0103
	8				20		1M 				Single 		TIMS 		0.0219
	16				20		1M 				Single 		TIMS 		0.0194
	8				10		644k			Single 		SimpleTab 	0.0167
	16				10		644k			Single 		SimpleTab 	0.0146
	8				20		1M 				Single 		SimpleTab 	0.0288
	16				20		1M 				Single 		SimpleTab 	0.0238
	8				10		644k			Packed 		default 	0.0259
	16				10		644k			Packed 		default 	x
	8				20		1M 				Packed 		default 	0.0441
	16				20		1M 				Packed 		default 	x
	8				10		644k			Packed 		TIMS 		0.0259
	16				10		644k			Packed 		TIMS 		x
	8				20		1M 				Packed 		TIMS 		0.0448
	16				20		1M 				Packed 		TIMS 		x
	8				10		644k			Packed 		SimpleTab 	0.0296
	16				10		644k			Packed 		SimpleTab 	x
	8				20		1M 				Packed 		SimpleTab 	0.0483
	16				20		1M 				Packed 		SimpleTab 	x

* retci s 'x' - nijedan element nije bio ubacen u tablicu